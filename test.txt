Name:         octoprint
Namespace:    default
Labels:       kustomize.toolkit.fluxcd.io/name=cluster-apps-octoprint
              kustomize.toolkit.fluxcd.io/namespace=flux-system
Annotations:  <none>
API Version:  helm.toolkit.fluxcd.io/v2beta1
Kind:         HelmRelease
Metadata:
  Creation Timestamp:  2023-11-08T18:37:58Z
  Finalizers:
    finalizers.fluxcd.io
  Generation:        30
  Resource Version:  9950041
  UID:               5b283e04-c4c9-40b3-9eb9-77e8061bb5e2
Spec:
  Chart:
    Spec:
      Chart:               octoprint
      Reconcile Strategy:  ChartVersion
      Source Ref:
        Kind:       HelmRepository
        Name:       k8s-at-home-charts
        Namespace:  flux-system
      Version:      6.4.2
  Install:
    Create Namespace:  true
    Remediation:
      Retries:  3
  Interval:     5m
  Upgrade:
    Remediation:
      Retries:  4
  Values:
    Env:
      OCTOPRINT_PORT:  5000
      TZ:              America/Los_Angeles
    Image:
      Pull Policy:  IfNotPresent
      Repository:   octoprint/octoprint
      Tag:          1.9.3
    Ingress:
      Main:
        Annotations:
          hajimari.io/icon:  mdi:printer-3d
        Enabled:             true
        Hosts:
          Host:  octoprint.projectboneyard.com
          Paths:
            Path:            /
            Path Type:       Prefix
        Ingress Class Name:  internal
        Tls:
          Hosts:
            octoprint.projectboneyard.com
    Node Selector:
      3dprinter:  Prusai3MK3Sp
      Rpi:        RPi3b
    Persistence:
      Data:
        Enabled:         true
        Existing Claim:  octoprint-data
        Mount Path:      /octoprint
      Printer:
        Enabled:     true
        Host Path:   /dev/serial/by-id/usb-Prusa_Research__prusa3d.com__Original_Prusa_i3_MK3_CZPX0321X004XK45917-if00
        Mount Path:  /dev/ttyUSB0
        Type:        hostPath
    Security Context:
      Privileged:  true
Status:
  Conditions:
    Last Transition Time:  2023-11-25T18:56:34Z
    Message:               upgrade retries exhausted
    Reason:                UpgradeFailed
    Status:                False
    Type:                  Ready
    Last Transition Time:  2023-11-25T18:56:25Z
    Message:               Helm upgrade failed: context deadline exceeded

Last Helm logs:

Looks like there are no changes for Ingress "octoprint"
waiting for release octoprint resources (created: 0 updated: 3  deleted: 0)
beginning wait for 3 resources with timeout of 5m0s
Deployment is not ready: default/octoprint. 0 out of 1 expected pods are ready
warning: Upgrade "octoprint" failed: context deadline exceeded
    Reason:                        UpgradeFailed
    Status:                        False
    Type:                          Released
    Last Transition Time:          2023-11-25T19:57:00Z
    Message:                       Helm rollback succeeded
    Reason:                        RollbackSucceeded
    Status:                        True
    Type:                          Remediated
  Failures:                        8
  Helm Chart:                      flux-system/default-octoprint
  Last Applied Revision:           6.4.2
  Last Attempted Revision:         6.4.2
  Last Attempted Values Checksum:  5bc522957abcbacba207c8685550cae7eb427b54
  Last Release Revision:           85
  Observed Generation:             30
  Upgrade Failures:                5
Events:
  Type     Reason  Age                 From             Message
  ----     ------  ----                ----             -------
  Normal   info    54m (x17 over 27h)  helm-controller  Helm upgrade has started
  Warning  error   49m (x16 over 27h)  helm-controller  Helm upgrade failed: context deadline exceeded

Last Helm logs:

Looks like there are no changes for Ingress "octoprint"
waiting for release octoprint resources (created: 0 updated: 3  deleted: 0)
beginning wait for 3 resources with timeout of 5m0s
Deployment is not ready: default/octoprint. 0 out of 1 expected pods are ready
warning: Upgrade "octoprint" failed: context deadline exceeded
  Normal   info   49m (x17 over 27h)     helm-controller  Helm rollback succeeded
  Warning  error  49m (x17 over 27h)     helm-controller  reconciliation failed: Helm upgrade failed: context deadline exceeded
  Warning  error  4m39s (x129 over 33h)  helm-controller  reconciliation failed: upgrade retries exhausted
